/* Grayscale theme tokens only */
html { color-scheme: light dark; }
html[data-theme="light"]{
  --bg:#ffffff; --fg:#111111; --muted:#6f6f6f; --line:#e6e6e6;
  --panel:#f8f8f8; --panel-dark:#111; --card:#ffffff; --ink:#000000; --shadow:0 10px 30px rgba(0,0,0,.08);
}
html[data-theme="dark"]{
  --bg:#000000; --fg:#e9e9e9; --muted:#9f9f9f; --line:#1e1e1e;
  --panel:#0d0d0d; --panel-dark:#0a0a0a; --card:#0f0f0f; --ink:#ffffff; --shadow:0 10px 30px rgba(0,0,0,.35);
}
.back-fab{position:fixed;left:18px;bottom:18px;z-index:50;border:1px solid #1e1e1e;background:#0f0f0f;color:#e9e9e9;padding:10px 14px;border-radius:999px;cursor:pointer}
html[data-theme="light"] .back-fab{background:#efefef;color:#111;border-color:#e6e6e6}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--fg);
  font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* Subtle frosted background */
.bg{
  position:fixed; inset:0; pointer-events:none;
  background:
    radial-gradient(60vmax 60vmax at 10% 20%, rgba(255,255,255,.06), transparent 60%),
    radial-gradient(60vmax 60vmax at 90% 30%, rgba(255,255,255,.04), transparent 60%),
    radial-gradient(60vmax 60vmax at 50% 100%, rgba(255,255,255,.05), transparent 60%);
  filter:blur(20px) saturate(0%);
}

/* Sidebar */
.sidebar{
  position:fixed; left:16px; top:16px; bottom:16px; width:240px;
  background:var(--panel); border:1px solid var(--line); border-radius:22px;
  box-shadow:var(--shadow); padding:16px; display:flex; flex-direction:column; gap:8px;
}
.logo{ font-weight:800; letter-spacing:.18em; font-size:1.2rem; margin-bottom:6px; }
.cap{ color:var(--muted); font-size:.7rem; letter-spacing:.12em; margin:10px 4px 4px; }
.nav-item{
  display:flex; align-items:center; gap:10px; padding:10px 12px;
  border-radius:12px; cursor:pointer; color:var(--fg);
}
.nav-item:hover{ background:rgba(255,255,255,.04) }
.nav-item.is-active{ background:rgba(255,255,255,.08); }
.nav-item .dot{ width:8px; height:8px; border-radius:50%; background:currentColor; opacity:.4; }
.mt-auto{ margin-top:auto }

/* Top bar */
.topbar{
  position:fixed; left:272px; right:16px; top:16px; height:72px;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 16px; border:1px solid var(--line);
  background:var(--panel); border-radius:22px; box-shadow:var(--shadow);
}
.hello{ font-weight:700; font-size:1.2rem }
.top-actions{ display:flex; align-items:center; gap:12px }
.btn{
  border:1px solid var(--ink); background:transparent; color:var(--fg);
  padding:10px 14px; border-radius:12px; cursor:pointer; transition:transform .15s ease;
}
.btn:hover{ transform:scale(1.03) }
.btn-ghost{ border-color:var(--line) }
.small{ font-size:.9rem }
.search input{
  width:220px; padding:10px 12px; border:1px solid var(--line); border-radius:12px;
  background:transparent; color:var(--fg)
}
.avatar{ width:36px; height:36px; display:grid; place-items:center; border-radius:50%;
  background:var(--panel-dark) }

/* Main grid container */
.grid{
  position:relative;
  margin-left:272px; margin-right:16px;
  margin-top:104px; margin-bottom:16px;
  display:grid; gap:16px;
  grid-template-columns: 1.3fr 1fr 0.9fr;
  grid-template-rows: auto auto auto auto;
  grid-template-areas:
    "overall weekly month"
    "goals tasks tasks"
    "head head head"
    "p1 p2 p3";
}

/* Cards */
.card{
  border:1px solid var(--line); border-radius:22px; background:var(--card);
  padding:16px; box-shadow:var(--shadow);
}
.card-dark{ background:#0b0b0b }
.card .card-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px }
.icon-btn{ border:1px solid var(--line); background:transparent; color:var(--fg); border-radius:10px; padding:6px 8px; cursor:pointer }

/* Overall */
.overall{ grid-area:overall; color:#fff }
.overall .big{ font-size:3rem; line-height:1; font-weight:800; margin-top:6px }
.overall .sep{ margin-top:4px }
.overall-stats{ margin-top:14px; display:grid; grid-template-columns:repeat(3,1fr); gap:10px }
.stat{ background:#151515; border:1px solid #222; border-radius:14px; padding:10px; text-align:center }
.stat .n{ font-weight:800; font-size:1.2rem }

/* Weekly */
.weekly{ grid-area:weekly }
.chart{ height:130px; border:1px dashed var(--line); border-radius:14px; display:grid; place-items:center; }
.ticks{ display:flex; justify-content:space-between; color:var(--muted); font-size:.9rem; margin-top:8px }

/* Month progress */
.month{ grid-area:month; display:grid; gap:8px; align-content:start }
.donut{ width:140px; height:140px; position:relative; margin:0 auto }
.donut-svg{ width:100%; height:100%; transform:rotate(-90deg) }
.donut-svg .bg{ fill:none; stroke:var(--line); stroke-width:3 }
.donut-svg .val{ fill:none; stroke:var(--fg); stroke-width:3; stroke-linecap:round; stroke-dasharray:0 100 }
.donut-label{ position:absolute; inset:0; display:grid; place-items:center; font-weight:800 }
.legend{ list-style:none; display:flex; gap:10px; padding:0; margin:0; color:var(--muted) }

/* Goals */
.goals{ grid-area:goals }
.checks{ list-style:none; padding:0; margin:0; display:grid; gap:8px }
.checks input{ accent-color:#000 } /* still grayscale */

/* Tasks */
.tasks{ grid-area:tasks }
.task-grid{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px }
.task{ border:1px solid var(--line); border-radius:14px; padding:12px; background:var(--panel) }
.task.dash{ border:2px dashed var(--line); background:transparent; cursor:pointer }

/* Row head + projects */
.row-head{ grid-area:head; display:flex; align-items:center; justify-content:space-between; }
.project{ padding:18px }
.project.dark{ background:#0b0b0b }
.project:nth-of-type(1){ grid-area:p1 }
.project:nth-of-type(2){ grid-area:p2 }
.project:nth-of-type(3){ grid-area:p3 }

/* Responsive */
@media (max-width:1180px){
  .grid{
    grid-template-columns: 1fr 1fr;
    grid-template-areas:
      "overall weekly"
      "month goals"
      "tasks tasks"
      "head head"
      "p1 p2"
      "p3 p3";
  }
}
@media (max-width:860px){
  .sidebar{ position:fixed; transform:translateX(-270px) }
  .topbar{ left:16px }
  .grid{ margin-left:16px; grid-template-columns:1fr; grid-template-areas:
    "overall" "weekly" "month" "goals" "tasks" "head" "p1" "p2" "p3"; }
}
.back-fab{
  position:fixed; left:18px; bottom:18px; z-index:50;
  border:1px solid #1e1e1e; background:#0f0f0f; color:#e9e9e9;
  padding:10px 14px; border-radius:999px; cursor:pointer;
}
html[data-theme="light"] .back-fab{ background:#efefef; color:#111; border-color:#e6e6e6; }
