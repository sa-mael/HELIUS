<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HELIUS — 3 columns</title>
  <link rel="stylesheet" href="test.css" />
</head>
<body>
  <main class="layout">
    <aside class="col col-left" aria-hidden="true">
      <!-- meta-pages/profile.html -->
<section class="block" id="profile">
  <h1>Profile</h1>
  <p class="muted">
    Your profile powers personalization, digests, and topic suggestions. This page explains fields, where to edit them, privacy controls, and data keys.
  </p>
</section>

<section class="block" id="profile-fields">
  <h2>Fields & meaning</h2>
  <div class="cards">
    <div class="card">
      <h3>Identity</h3>
      <ul>
        <li><strong>Full name</strong> — optional display name.</li>
        <li><strong>Age</strong> — <em>required</em>, used for safety gating and content tone.</li>
        <li><strong>Status</strong> — <em>required</em> (<code>student</code> | <code>working</code> | <code>unemployed</code> | <code>other</code>).</li>
        <li><strong>Country / region</strong> — improves sources by locale.</li>
        <li><strong>Preferred language</strong> — interface and content language hint.</li>
      </ul>
    </div>
    <div class="card">
      <h3>Interests & goals</h3>
      <ul>
        <li><strong>Goals</strong> — free-text learning or research aims.</li>
        <li><strong>Interests</strong> — optional checkboxes (research, policy, tech, health, finance, education).</li>
        <li><strong>Topics</strong> — at least three chosen during onboarding; drive Home streams.</li>
      </ul>
    </div>
    <div class="card">
      <h3>Contact & consent</h3>
      <ul>
        <li><strong>Email</strong> — optional; used for digests when enabled.</li>
        <li><strong>Consent</strong> — must be checked to store onboarding data.</li>
      </ul>
    </div>
  </div>
</section>

<section class="block" id="edit-profile">
  <h2>Edit your profile</h2>
  <ol>
    <li>Open <a href="start.html">Start</a> and update fields on the <strong>Profile</strong> step.</li>
    <li>Review or change <strong>Topics</strong> and <strong>Bias</strong> presets if needed.</li>
    <li>Finish to save and return to <a href="home.html">Home</a>.</li>
  </ol>
  <p class="muted small">
    A dedicated in-app editor will live under <em>Home → Settings</em> later. For now, re-run Start to edit.
  </p>
</section>

<section class="block" id="preferences">
  <h2>Preferences</h2>
  <ul>
    <li><strong>Theme</strong> — dark/white toggle persists across pages.</li>
    <li><strong>Digest</strong> — planned: daily/weekly email from your topics.</li>
    <li><strong>Notifications</strong> — planned: browser opt-in for version updates.</li>
  </ul>
</section>

<section class="block" id="privacy">
  <h2>Privacy & data</h2>
  <div class="cards">
    <div class="card">
      <h3>Where data lives</h3>
      <p>All current data is stored locally in your browser via <code>localStorage</code>. No server sync yet.</p>
    </div>
    <div class="card">
      <h3>Export</h3>
      <p>Use the browser console to export a JSON snapshot:</p>
      <pre><code>JSON.stringify({
  profile: JSON.parse(localStorage.getItem('helius-profile')||'{}'),
  topics:  JSON.parse(localStorage.getItem('helius-topics')||'[]'),
  bias:    JSON.parse(localStorage.getItem('helius-bias')||'{}'),
  notes:   JSON.parse(localStorage.getItem('helius-notes')||'[]'),
  goals:   JSON.parse(localStorage.getItem('helius-goals')||'[]')
}, null, 2)</code></pre>
    </div>
    <div class="card">
      <h3>Delete / reset</h3>
      <ul>
        <li>Sign out clears the onboarding flag only.</li>
        <li>Full reset: clear keys below or use browser <em>Clear site data</em>.</li>
      </ul>
    </div>
  </div>
</section>

<section class="block" id="data-keys">
  <h2>LocalStorage keys</h2>
  <ul class="two-col">
    <li><code>helius-theme</code> — <em>string</em> <code>dark|light</code></li>
    <li><code>helius-profile</code> — <em>object</em> (fields above)</li>
    <li><code>helius-topics</code> — <em>string[]</em></li>
    <li><code>helius-bias</code> — <em>{risk, trust, openness}</em></li>
    <li><code>helius-first-vote</code> — <em>"up"|"down"</em></li>
    <li><code>helius-onboarded</code> — <em>ISO date</em></li>
    <li><code>helius-notes</code> — <em>string[]</em> (Home → Notes)</li>
    <li><code>helius-quick-note</code> — <em>string</em> (Meta menu popover)</li>
    <li><code>helius-goals</code> — <em>boolean[]</em> (Home → Month goals)</li>
  </ul>
</section>

<section class="block" id="schema">
  <h2>Profile JSON shape</h2>
  <pre><code>{
  "fullName": "Alex Johnson",
  "age": 19,
  "status": "student",
  "country": "Canada",
  "language": "English",
  "goals": "Learn critical comparison of sources.",
  "interests": ["research","technology"],
  "email": "name@example.com",
  "consent": true
}</code></pre>
  <p class="muted small">Stored under <code>helius-profile</code>. Updated when you finish Start.</p>
</section>

<section class="block" id="security">
  <h2>Security & sign-out</h2>
  <ul>
    <li><strong>No login yet</strong> — there are no passwords or tokens in this MVP.</li>
    <li><strong>Sign out</strong> — menu → <em>Sign out</em> clears <code>helius-onboarded</code> and returns to Start.</li>
    <li><strong>Shared devices</strong> — use a private window or clear site data after use.</li>
  </ul>
</section>

<section class="block" id="shortcuts">
  <h2>Shortcuts & tips</h2>
  <ul>
    <li><kbd>←</kbd>/<kbd>→</kbd> — navigate onboarding steps.</li>
    <li>On Home, opening more topics increases your progress bar.</li>
    <li>Use the persistent <strong>Back</strong> button if you get lost.</li>
  </ul>
</section>

<section class="block" id="troubleshooting">
  <h2>Troubleshooting</h2>
  <details>
    <summary>My name or age is not updating on Home.</summary>
    <p>Re-run <a href="start.html">Start</a> → finish the flow → reload Home. Ensure consent is checked on the Profile step.</p>
  </details>
  <details>
    <summary>I want to remove all local data.</summary>
    <p>Open DevTools → Console and run:
      <code>Object.keys(localStorage).filter(k => k.startsWith('helius-')).forEach(k => localStorage.removeItem(k))</code>
      , then refresh.
    </p>
  </details>
  <details>
    <summary>Theme resets between pages.</summary>
    <p>Ensure a single <code>helius-theme</code> setter is used on each page. Toggle once and reload.</p>
  </details>
</section>

    </aside>

    <section class="col col-center" aria-label="Grid of boxes">
      <div id="cardGrid" class="card-grid"></div>
    </section>

    <aside class="col col-right" aria-label="Topics reference">
      <h2 class="panel-title">Topics</h2>
      <ol id="topicList" class="topics"></ol>
      <p class="hint">Click a topic to pin its boxes. Click again to clear.</p>
    </aside>
  </main>

  <script src="app.js"></script>
</body>
</html>
